{
  // vim:set et sw=2 ts=4 fdm=marker:

  // {{{ general
  "session.saveOnVimLeave": false, // https://github.com/tpope/vim-obsession/issues/72#issuecomment-1089202674
  "python.pythonPath": "$HOME/.pyenv/shims/python3",
  "python.formatting.provider": "black",
  "python.linting.enabled": false,
  "pyright.disableDiagnostics": true,
  // "git.enableGlobalStatus": false,
  "diagnostic.checkCurrentLine": true,
  "diagnostic.messageTarget": "float",
  "diagnostic.enableMessage": "jump",
  // "pairs.enableCharacters": ["(", "[", "{", "<", "'", "\"", "`"],
  // "pairs.enableBackspace": true,
  // "pairs.disableLanguages": [],
  // "pairs.alwaysPairCharacters": [],
  "codeLens.enable": false,
  "highlight.colorNames.enable": false,
  "highlight.document.enable": true,
  "colors.enable": true,
  "semanticTokens.enable": false,
  "inlayHint.enable": false,
  "coc.preferences.currentFunctionSymbolAutoUpdate": true, // this updates the cursor line
  "coc.preferences.enableMarkdown": true,
  "coc.preferences.formatOnSave": false,
  "[go][javascript][typescript][typescriptreact][dart]": {
    "coc.preferences.formatOnSave": true
  },
  // "coc.preferences.formatOnSaveFiletypes": [
  //   "go",
  //   "typescriptreact",
  //   "typescript",
  //   "javascript",
  //   "python",
  //   "dart",
  //   "rust"
  // ],
  "refactor.showMenu": "",
  // }}}

  // notification
  "coc.preferences.enableMessageDialog": false,
  // "notification.statusLineProgress": true,
  //

  // {{{ workspace
  "workspace.workspaceFolderCheckCwd": false,
  "workspace.workspaceFolderFallbackCwd": true,
  // "workspace.bottomUpFiletypes": ["go"],
  "workspace.ignoredFolders": [
    "$HOME",
    "$HOME/.cargo/**",
    "$HOME/.rustup/**",
    "$HOME/.dotfiles",
    "$HOME/go/pkg/mod/**",
    "$HOMEBREW_PREFIX",
    "$HOMEBREW_PREFIX/**"
  ],
  // }}}

  // {{{ list
  // "list.floatPreview": true,
  "list.previewToplineStyle": "middle",
  "list.previewToplineOffset": 0,
  "list.previewHighlightGroup": "IncSearch",
  // "list.previewSplitRight": true,
  "list.source.files.args": ["--hidden", "--files"],
  "list.source.files.excludePatterns": ["**/.git/*"],
  "list.source.grep.excludePatterns": ["**/.git/*"],
  "list.source.files.defaultArgs": ["--files"],
  // }}}

  // {{{ javascript
  "prettier.tabWidth": 2,
  "prettier.semi": false,
  "prettier.singleQuote": true,
  "prettier.printWidth": 120,
  "prettier.ignorePath": "",
  // "prettier.eslintIntegration": true,
  // "prettier.tslintIntegration": true,
  // "tsserver.trace.server": "verbose",
  "tsserver.maxTsServerMemory": 4096, // 4GB max-old-space-size
  "tsserver.npm": "$HOMEBRE_PREFIX/bin/npm",
  "tsserver.useLocalTsdk": true,
  "typescript.suggest.completeFunctionCalls": false,
  // }}}

  // {{{ snippets
  "snippets.ultisnips.directories": ["UltiSnips", "gosnippets/UltiSnips"],
  "snippets.priority": 90,
  // "snippets.trace": "verbose",
  // }}}

  // {{{ suggest
  "suggest.virtualText": false,
  "suggest.noselect": false, // don't select first entry
  // "suggest.enablePreselect": false, // put recently used on top
  // "suggest.selection": "recentlyUsedByPrefix",
  "suggest.languageSourcePriority": 99,
  "suggest.maxCompleteItemCount": 50,
  "suggest.lowPrioritySourceLimit": 10,
  "suggest.floatConfig": {
    "border": true,
    "maxWidth": 200
  },
  // }}}

  // {{{ floatConfig
  "hover.floatConfig": {
    "border": true,
    "maxWidth": 200
  },
  "diagnostic.floatConfig": {
    "border": true,
    "title": "Diagnostic",
    "maxWidth": 200,
    "maxHeight": 200,
    "winblend": 0
  },
  "signature.floatConfig": {
    "border": true,
    "maxWidth": 200,
    "maxHeight": 200,
    "title": "Signature"
  },
  // }}}

  // {{{ fancy labels
  // "suggest.completionItemKindLabels": {
  //   "keyword": "\uf1de",
  //   "variable": "\ue79b",
  //   "value": "\uf89f",
  //   "operator": "\u03a8",
  //   "constructor": "\uf0ad",
  //   "function": "\u0192",
  //   "reference": "\ufa46",
  //   "constant": "\uf8fe",
  //   "method": "\uf09a",
  //   "struct": "\ufb44",
  //   "class": "\uf0e8",
  //   "interface": "\uf417",
  //   "text": "\ue612",
  //   "enum": "\uf435",
  //   "enumMember": "\uf02b",
  //   "module": "\uf40d",
  //   "color": "\ue22b",
  //   "property": "\ue624",
  //   "field": "\uf9be",
  //   "unit": "\uf475",
  //   "event": "\ufacd",
  //   "file": "\uf723",
  //   "folder": "\uf114",
  //   "snippet": "\ue60b",
  //   "typeParameter": "\uf728",
  //   "default": "\uf29c"
  // },
  // }}}

  // {{{ sources
  "coc.source.word.priority": 1,
  "coc.source.dictionary.priority": 80,
  "yank.priority": 80,
  "coc.source.buffer.priority": 2,
  // }}}

  // {{{ language server
  "languageserver": {
    "bufls": {
      "command": "bufls",
      "args": ["serve"],
      "filetypes": ["proto"]
    }
    // "ccls": {
    //   "command": "ccls",
    //   "filetypes": ["c", "cc", "cpp", "c++", "objc", "objcpp"],
    //   "rootPatterns": [".ccls", "compile_commands.json", ".git/", ".hg/"],
    //   "initializationOptions": {
    //     "cache": {
    //       "directory": "/tmp/ccls"
    //     }
    //   }
    // },
    // "kotlin": {
    //   "host": "127.0.0.1",
    //   "port": 8080,
    //   "filetypes": ["kotlin"]
    // },
    // "kotlin": {
    //   // "trace.server": "verbose",
    //   "command": "$HOME/personal/kotlin-language-server/server/build/install/server/bin/kotlin-language-server",
    //   "filetypes": ["kotlin"]
    // },
    //"gopls": {
    //  "command": "gopls",
    //  "filetypes": ["go"],
    //  // "args": ["-remote=auto"],
    //  "args": ["-logfile", "/tmp/gopls.log", "-v", "-rpc.trace"],
    //  "rootPatterns": ["go.mod", ".git/"],
    //  //"disableWorkspaceFolders": true,
    //  "initializationOptions": {
    //    // "usePlaceholders": true,
    //    // "completeUnimported": true,
    //    // "static_check": true,
    //    // "hoverKind": "FullDocumentation"
    //  }
    //},
    // "dockerfile": {
    //   "command": "docker-langserver",
    //   "filetypes": ["dockerfile"],
    //   "args": ["--stdio"]
    // }
    // "bash": {
    //   "command": "bash-language-server",
    //   "args": ["start"],
    //   "filetypes": ["sh"],
    //   "ignoredRootPaths": ["~"]
    // }
    // "efm": {
    //   "command": "efm-langserver",
    //   "args": [],
    //   // custom config path
    //   // "args": ["-c", "/path/to/your/config.yaml"],
    //   "filetypes": ["vim", "eruby", "markdown", "yaml"]
    // }
  },
  // }}}

  // {{{ cspell
  "cSpell.enabled": false,
  "cSpell.ignorePaths": [
    "**/package-lock.json",
    "**/node_modules/**",
    "**/vscode-extension/**",
    "**/.git/objects/**",
    ".vscode"
  ],
  "cSpell.enabledLanguageIds": [
    // "vim",
    // "asciidoc",
    // "c",
    // "cpp",
    // "csharp",
    // "css",
    // "git-commit",
    // "go",
    // "handlebars",
    // "haskell",
    // "html",
    // "jade",
    // "java",
    // "javascript",
    // "javascriptreact",
    // "json",
    // "jsonc",
    // "latex",
    // "less",
    // "markdown",
    // "php",
    // "plaintext",
    // "python",
    // "pug",
    // "restructuredtext",
    // "rust",
    // "scala",
    // "scss",
    // "text",
    // "typescript",
    // "typescriptreact",
    // "yaml",
    // "yml"
  ],
  "cSpell.userWords": [
    "Async",
    "Catalog",
    "Kubernetes",
    "Meera",
    "OGDR",
    "RDBMS",
    "Screenshots",
    "admin",
    "gopls",
    "grpc",
    "jackieli",
    "oidc",
    "ouom",
    "postgres",
    "ppdm",
    "protobuf",
    "protoc",
    "sqlx",
    "tespkg"
  ],
  "cSpell.language": "en-GB",
  "cSpell.diagnosticLevel": "Hint",
  "cSpell.languageSettings": [],
  //  }}}

  // {{{ go
  "go.goplsOptions": {
    // "linksInHover": false,
    // "hoverKind": "Structured",
    // "verboseOutput": true,
    "vulncheck": "Imports",
    "gofumpt": false,
    // "usePlaceholders": true,
    // "semanticTokens": true,
    // "experimentalWorkspaceModule": true,
    // "experimentalUseInvalidMetadata": false,
    // "hoverKind": "FullDocumentation",
    "staticcheck": true,
    "buildFlags": ["-tags=wireinject"],
    "hoverKind": "FullDocumentation",
    "hints": {
      // "assignVariableTypes": true,
      // "compositeLiteralFields": true,
      // "compositeLiteralTypes": true,
      // "constantValues": true,
      // "functionTypeParameters": true,
      // "parameterNames": true,
      // "rangeVariableTypes": true
    },
    "analyses": {
      "fillreturns": true,
      "undeclaredname": true,
      "unusedparams": true,
      "nonewvars": true,
      "ST1003": false // identifier naming like package name with underscore
      // },
      // "codelens": {
      //   "generate": true,
      //   "test": true
    }
  },
  "go.tags": {
    "skipUnexported": true
  },
  "go.goplsUseDaemon": true,
  // "go.trace.server": "verbose",
  "go.goplsPath": "~/go/bin/gopls",
  "go.disable": {
    "workspaceFolders": true
  },
  // }}}

  // {{{ flutter

  // "flutter.sdk.flutter-lookup": "echo $HOME/snap/flutter/common/flutter/bin/flutter",
  // "flutter.sdk.dart-lookup": "echo $HOME/snap/flutter/common/flutter/bin/dart",
  "flutter.provider.hot-reload": true,
  "flutter.provider.enableSnippet": true,
  "flutter.workspaceFolder.ignore": ["~/.pub-cache/", "~/.config/", "~/.dotfiles/"],

  // "flutter.sdk.dart-lookup": "echo /snap/flutter/current",
  // "flutter.sdk.flutter-lookup": "echo /snap/flutter/current",
  // "flutter.lsp.debug": true,
  // "flutter.trace.server": "verbose"
  // }}}

  // {{{ coc-sql
  // "sql.database": "postgresql",
  // }}}

  // {{{ coc-explorer
  "explorer.position": "left",
  "explorer.width": 40,
  "explorer.git.showIgnored": true,
  "explorer.git.enable": false,
  "explorer.file.showHiddenFiles": true,
  "explorer.icon.enableNerdfont": true,
  "explorer.keyMappings.global": {
    "<c-s>": "open:split",
    "<c-v>": "open:vsplit",
    "o": "cd",
    "<cr>": ["wait", "expandable?", ["expanded?", "collapse", "expand"], "open"],
    "l": ["wait", "expandable?", ["expanded?", "collapse", "expand"], "open"],
    "f": "search:recursive:noIgnore",
    "F": ["resolveRoot", "search:recursive:noIgnore"]
  },
  "explorer.quitOnOpen": true,
  "explorer.sources": [
    {
      "name": "file",
      "expand": true
    }
  ],
  "explorer.file.reveal.auto": true,
  "explorer.focus": true,
  "explorer.openAction.strategy": "previousBuffer",
  "explorer.diagnostic.displayMax": 0,
  "explorer.root.strategies": ["workspace", "cwd", "sourceBuffer", "reveal"],
  // }}}

  // {{{ outline
  "outline.sortBy": "position",
  "outline.showLineNumber": false,
  "outline.expandLevel": 0,
  // }}}

  // {{{ tree
  "tree.key.close": "q",
  // }}}

  // {{{ general diagnostics
  "diagnostic-languageserver.debug": false,
  "diagnostic-languageserver.filetypes": {
    // "markdown": "vale"
  },
  "diagnostic-languageserver.linters": {
    "vale": {
      "command": "vale",
      "debounce": 100,
      "args": ["--no-exit", "--output", "JSON", "--ext", ".md"],
      "sourceName": "vale",
      "parseJson": {
        "errorsRoot": "stdin.md",
        "line": "Line",
        "column": "Span[0]",
        "endLine": "Line",
        "endColumn": "Span[1]",
        "message": "${Message}\n${Link}",
        "security": "Severity"
      },
      "securities": {
        "error": "hint",
        "warning": "hint",
        "suggestion": "hint"
      }
    }
  },
  // }}}

  // rust{{{

  //}}}

  "zig.zls.debugLog": true,
  // emmet {{{
  // "emmet.includeLanguages": {},
  // "emmet.showExpandedAbbreviation": "never",
  // "emmet.showSuggestionsAsSnippets": true,
  // }}}

  // {{{ coc-yaml
  "yaml.schemas": {
    "https://json.schemastore.org/github-workflow.json": [".github/workflows/*.{yml,yaml}"]
  },
  // }}}

  "java-ext.debug": true,
  "sumneko-lua.enableNvimLuaDev": true,
  "Lua.diagnostics.workspaceRate": 100,
  "Lua.hint.enable": false,
  "Lua.diagnostics.enable": true,
  "sumneko-lua.checkUpdate": false,
  "snippets.ultisnips.pythonPrompt": false,
  "zig.zls.path": "/Users/jackieli/.config/coc/extensions/coc-zls-data/zls_install/zls"
}
