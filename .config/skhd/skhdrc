# ( vim: set ts=4 sw=4 et fdm=marker: )

# focus cmd - ? {{{
cmd - h : yabai -m window --focus west   || $(yabai -m display --focus west)
cmd - j : yabai -m window --focus stack.next || yabai -m window --focus south  || $(yabai -m display --focus south) || yabai -m window --focus stack.first
cmd - k : yabai -m window --focus stack.prev || yabai -m window --focus north  || $(yabai -m display --focus north) || yabai -m window --focus stack.last
cmd - l : yabai -m window --focus east   || $(yabai -m display --focus east)

cmd - 1 : yabai -m space --focus 1
cmd - 2 : yabai -m space --focus 2
cmd - 3 : yabai -m space --focus 3
cmd - 4 : yabai -m space --focus 4
cmd - 5 : yabai -m space --focus 5
cmd - 6 : yabai -m space --focus 6
cmd - 7 : yabai -m space --focus 7
cmd - 8 : yabai -m space --focus 8
cmd - 9 : yabai -m space --focus 9
cmd - 0 : yabai -m space --focus 0

cmd + ctrl - 1 : yabai -m space --focus 11
cmd + ctrl - 2 : yabai -m space --focus 12
cmd + ctrl - 3 : yabai -m space --focus 13
cmd + ctrl - 4 : yabai -m space --focus 14
cmd + ctrl - 5 : yabai -m space --focus 15
cmd + ctrl - 6 : yabai -m space --focus 16
cmd + ctrl - 7 : yabai -m space --focus 17
cmd + ctrl - 8 : yabai -m space --focus 18
cmd + ctrl - 9 : yabai -m space --focus 19
cmd + ctrl - 0 : yabai -m space --focus 10

# }}}

# move window cmd + shift - ? {{{
cmd + shift - h : yabai -m window --swap west || $(yabai -m window --display west; yabai -m display --focus west)
cmd + shift - j : yabai -m window --swap south || $(yabai -m window --display south; yabai -m display --focus south)
cmd + shift - k : yabai -m window --swap north || $(yabai -m window --display north; yabai -m display --focus north)
cmd + shift - l : yabai -m window --swap east || $(yabai -m window --display east; yabai -m display --focus east)
# warp window using arrow keys
cmd + shift - left : yabai -m window --warp west || $(yabai -m window --display west; yabai -m display --focus west)
cmd + shift - down : yabai -m window --warp south || $(yabai -m window --display south; yabai -m display --focus south)
cmd + shift - up : yabai -m window --warp north || $(yabai -m window --display north; yabai -m display --focus north)
cmd + shift - right : yabai -m window --warp east || $(yabai -m window --display east; yabai -m display --focus east)

#cmd + ctrl - h : yabai -m window --insert west
#cmd + ctrl - j : yabai -m window --insert south
#cmd + ctrl - k : yabai -m window --insert north
#cmd + ctrl - l : yabai -m window --insert east

cmd + shift - 1 : yabai -m window --space 1
cmd + shift - 2 : yabai -m window --space 2
cmd + shift - 3 : yabai -m window --space 3
cmd + shift - 4 : yabai -m window --space 4
cmd + shift - 5 : yabai -m window --space 5
cmd + shift - 6 : yabai -m window --space 6
cmd + shift - 7 : yabai -m window --space 7
cmd + shift - 8 : yabai -m window --space 8
cmd + shift - 9 : yabai -m window --space 9
cmd + shift - 0 : yabai -m window --space 10

cmd + ctrl + shift - 1 : yabai -m window --space 11
cmd + ctrl + shift - 2 : yabai -m window --space 12
cmd + ctrl + shift - 3 : yabai -m window --space 13
cmd + ctrl + shift - 4 : yabai -m window --space 14
cmd + ctrl + shift - 5 : yabai -m window --space 15
cmd + ctrl + shift - 6 : yabai -m window --space 16
cmd + ctrl + shift - 7 : yabai -m window --space 17
cmd + ctrl + shift - 8 : yabai -m window --space 18
cmd + ctrl + shift - 9 : yabai -m window --space 19
cmd + ctrl + shift - 0 : yabai -m window --space 10

# }}}

# stack {{{
cmd + ctrl + shift - k: yabai -m window --stack north
cmd + ctrl + shift - j: yabai -m window --stack south
cmd + ctrl + shift - h: yabai -m window --stack west
cmd + ctrl + shift - l: yabai -m window --stack east
# }}}

# layout {{{
#cmd - s : yabai -m space --layout stack
cmd - e : [ $( yabai -m query --spaces --space | jq -re '.type') = 'bsp' ] && yabai -m space --layout stack || yabai -m space --layout bsp
cmd + shift - space : yabai -m window --toggle float; yabai -m window --grid 4:4:1:1:2:2
cmd + ctrl + shift - space : yabai -m space --rotate 270

cmd + shift - f : yabai -m window --toggle native-fullscreen
# flash window border for active window
cmd + ctrl + shift - w : yabai -m window --toggle border; sleep 0.5; yabai -m config window_border off
# 0x2F is dot
cmd + ctrl + shift - 0x2F : yabai -m window --toggle border; sleep 0.5; yabai -m config window_border off

# }}}

# launch common apps {{{
cmd - return : kitty -1 -d ~
cmd - m : kitty -1 tmux
# }}}

# my habbits {{{
cmd + shift - x : yabai -m window --close
# }}}

# editing remaps: more like linux {{{
cmd - backspace : skhd -k "alt - backspace" # cmd+backspace as alt+backspace
cmd - left : skhd -k "alt - left" # cmd+left as alt+left
cmd - right : skhd -k "alt - right" # cmd+backspace as alt+backspace
# }}}

# focus on floating
# cmd + ctrl - a : yabai -m window --focus "$( yabai -m query --windows --space | jq -re "[sort_by(.id) | .[] | select(.floating == 1) | .id] | nth(1 + index($( yabai -m query --windows --window | jq '.id'))) // first")"

# reload yabai
ctrl + shift + cmd - r : launchctl kickstart -k "gui/${UID}/homebrew.mxcl.yabai"
